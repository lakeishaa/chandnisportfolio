<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <title>CH444NDNI's PORTFOLIO</title>
    <link rel="stylesheet" href="style.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css"
    />
    <script src="script.js" defer></script>
  </head>

  <style>
    @font-face {
      font-family: torch;
      src: url("../assets/headster.ttf");
    }
    h1 {
      font-family: torch;
    }
  </style>

  <body>
    <div class="topnav" id="myTopnav">
      <a href="#home" class="active">Home</a>
      <a href="#news">Works</a>
      <a href="#contact">About</a>
      <a href="javascript:void(0);" class="icon" onclick="myFunction()">
        <i class="fa fa-bars"></i>
      </a>
    </div>

    <div class="container">
      <!-- Images Filter Buttons Section -->
      <div class="row mt-5" id="filter-buttons">
        <div class="col-12">
          <button class="btn mb-2 me-1 active" data-filter="all">All</button>
          <button class="btn mb-2 mx-1" data-filter="film">Film</button>
          <button class="btn mb-2 mx-1" data-filter="photo">Photo</button>
          <button class="btn mb-2 mx-1" data-filter="people">Graphics</button>
          <button class="btn mb-2 mx-1" data-filter="people">
            Music & Live
          </button>
        </div>
      </div>

      <!-- Filterable Images / Cards Section -->
      <div class="row" id="filterable-cards">
        <div class="card-container">
          <div class="card p-0" data-name="film">
            <a href="#">
              <iframe
                width="100%"
                height="auto"
                src="https://www.youtube.com/embed/fwelkjfelwk?&autoplay=1&mute=1"
                frameborder="0"
                allow="autoplay; encrypted-media"
                allowfullscreen
              ></iframe>
              <div class="card-body">
                <h6 class="card-title">Killing A Vice</h6>
                <p class="card-text">
                  Short Film. Director & editor. Shot on film & digital
                </p>
              </div>
            </a>
          </div>

          <div class="card p-0" data-name="film">
            <a href="#">
              <iframe
                width="100%"
                height="auto"
                src="https://www.youtube.com/embed/fwelkjfelwk?&autoplay=1&mute=1"
                frameborder="0"
                allow="autoplay; encrypted-media"
                allowfullscreen
              ></iframe>
              <div class="card-body">
                <h6 class="card-title">Killing A Vice</h6>
                <p class="card-text">
                  Short Film. Director & editor. Shot on film & digital
                </p>
              </div>
            </a>
          </div>

          <div class="card p-0" data-name="film">
            <a href="#">
              <iframe
                width="100%"
                height="auto"
                src="https://www.youtube.com/embed/fwelkjfelwk?&autoplay=1&mute=1"
                frameborder="0"
                allow="autoplay; encrypted-media"
                allowfullscreen
              ></iframe>
              <div class="card-body">
                <h6 class="card-title">Killing A Vice</h6>
                <p class="card-text">
                  Short Film. Director & editor. Shot on film & digital
                </p>
              </div>
            </a>
          </div>

          <div class="card p-0" data-name="film">
            <a href="#">
              <iframe
                width="100%"
                height="auto"
                src="https://www.youtube.com/embed/fwelkjfelwk?&autoplay=1&mute=1"
                frameborder="0"
                allow="autoplay; encrypted-media"
                allowfullscreen
              ></iframe>
              <div class="card-body">
                <h6 class="card-title">Killing A Vice</h6>
                <p class="card-text">
                  Short Film. Director & editor. Shot on film & digital
                </p>
              </div>
            </a>
          </div>

          <div class="card p-0" data-name="film">
            <a href="#">
              <iframe
                width="100%"
                height="auto"
                src="https://www.youtube.com/embed/fwelkjfelwk?&autoplay=1&mute=1"
                frameborder="0"
                allow="autoplay; encrypted-media"
                allowfullscreen
              ></iframe>
              <div class="card-body">
                <h6 class="card-title">Killing A Vice</h6>
                <p class="card-text">
                  Short Film. Director & editor. Shot on film & digital
                </p>
              </div>
            </a>
          </div>

          <div class="card p-0" data-name="film">
            <a href="#">
              <iframe
                width="100%"
                height="auto"
                src="https://www.youtube.com/embed/fwelkjfelwk?&autoplay=1&mute=1"
                frameborder="0"
                allow="autoplay; encrypted-media"
                allowfullscreen
              ></iframe>
              <div class="card-body">
                <h6 class="card-title">Killing A Vice</h6>
                <p class="card-text">
                  Short Film. Director & editor. Shot on film & digital
                </p>
              </div>
            </a>
          </div>

          <div class="card p-0" data-name="film">
            <a href="#">
              <iframe
                width="100%"
                height="auto"
                src="https://www.youtube.com/embed/fwelkjfelwk?&autoplay=1&mute=1"
                frameborder="0"
                allow="autoplay; encrypted-media"
                allowfullscreen
              ></iframe>
              <div class="card-body">
                <h6 class="card-title">Killing A Vice</h6>
                <p class="card-text">
                  Short Film. Director & editor. Shot on film & digital
                </p>
              </div>
            </a>
          </div>
          <div class="card p-0" data-name="film">
            <a href="#">
              <iframe
                width="100%"
                height="auto"
                src="https://www.youtube.com/embed/fwelkjfelwk?&autoplay=1&mute=1"
                frameborder="0"
                allow="autoplay; encrypted-media"
                allowfullscreen
              ></iframe>
              <div class="card-body">
                <h6 class="card-title">Killing A Vice</h6>
                <p class="card-text">
                  Short Film. Director & editor. Shot on film & digital
                </p>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const container = document.getElementById("filterable-cards");
        const cards = Array.from(container.querySelectorAll(".card"));

        function getColumnCount(containerWidth, cardWidth) {
          const maxColumns = 6;
          const minColumns = 2;

          // Calculate the number of columns based on container width and card width
          let numColumns = Math.floor(containerWidth / cardWidth);

          // Limit to the allowed column counts
          if (numColumns > maxColumns) numColumns = maxColumns;
          else if (numColumns < minColumns) numColumns = minColumns;

          // Return the closest allowed column count (6, 4, 3, or 2)
          if (numColumns >= 6) return 6;
          else if (numColumns >= 4) return 4;
          else if (numColumns >= 3) return 3;
          else return 2;
        }

        function distributeCards() {
          const containerWidth = container.offsetWidth;
          const cardWidth = cards[0].offsetWidth; // Get the width of the first card
          const numColumns = getColumnCount(containerWidth, cardWidth);

          // Create column divs with column-inside divs
          const columnDivs = [];
          for (let i = 0; i < numColumns; i++) {
            const columnDiv = document.createElement("div");
            columnDiv.className = "column";

            const columnInsideDiv = document.createElement("div");
            columnInsideDiv.className = "column-inside";

            columnDiv.appendChild(columnInsideDiv);
            columnDivs.push(columnInsideDiv); // Push column-inside to array
          }

          // Distribute cards into column-inside divs
          cards.forEach((card, index) => {
            const columnIndex = index % numColumns;
            columnDivs[columnIndex].appendChild(card);
          });

          // Clear the container and append columns
          container.innerHTML = "";
          columnDivs.forEach((columnInsideDiv) => {
            const columnDiv = columnInsideDiv.parentElement;
            container.appendChild(columnDiv);
          });
        }

        // Call the function initially and on window resize
        distributeCards();
        window.addEventListener("resize", distributeCards);
      });
    </script>
  </body>
</html>
